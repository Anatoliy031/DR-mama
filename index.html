<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, –ú–∞–º–æ—á–∫–∞!</title>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Nunito:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(ellipse at bottom, #1b1032 0%, #0a0015 100%);
      font-family: 'Nunito', sans-serif;
      overflow-x: hidden;
      position: relative;
      color: #fff;
    }

    /* Canvas –¥–ª—è –≤—Å–µ—Ö –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ */
    #effectsCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    /* –ó–≤–µ–∑–¥–Ω–æ–µ –Ω–µ–±–æ –Ω–∞ —Ñ–æ–Ω–µ */
    .stars {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 1; }
    }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    .container {
      position: relative;
      z-index: 10;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    /* –ì–ª–∞–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ - —É–ª—å—Ç—Ä–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è */
    .card {
      width: min(800px, 95%);
      background: rgba(255, 255, 255, 0.02);
      backdrop-filter: blur(3px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 25px;
      padding: 40px;
      animation: appear 2s ease-out;
    }

    @keyframes appear {
      from {
        opacity: 0;
        transform: translateY(50px) scale(0.9);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
    .title-section {
      text-align: center;
      margin-bottom: 35px;
    }

    .title {
      font-family: 'Caveat', cursive;
      font-size: clamp(3rem, 8vw, 5rem);
      font-weight: 700;
      background: linear-gradient(90deg, #ff6ec7, #ffb347, #ff6ec7);
      background-size: 200% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shimmer 3s linear infinite;
      text-shadow: 0 0 40px rgba(255, 110, 199, 0.5);
      line-height: 1.2;
    }

    @keyframes shimmer {
      to { background-position: 200% center; }
    }

    .subtitle {
      font-family: 'Caveat', cursive;
      font-size: 1.8rem;
      color: #ffc0e0;
      margin-top: 10px;
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px rgba(255, 192, 224, 0.5); }
      to { text-shadow: 0 0 20px rgba(255, 192, 224, 0.8), 0 0 30px rgba(255, 192, 224, 0.5); }
    }

    /* –§–æ—Ç–æ-–±–ª–æ–∫ */
    .photo-section {
      display: flex;
      justify-content: center;
      margin: 30px 0;
    }

    .photo-circle {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      background: linear-gradient(45deg, #ff6ec7, #ffb347);
      padding: 3px;
      animation: rotate 10s linear infinite;
    }

    @keyframes rotate {
      to { transform: rotate(360deg); }
    }

    .photo-inner {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: #1b1032;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 4rem;
      overflow: hidden;
      position: relative;
    }

    .photo-inner img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* –ü–æ—ç—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ */
    .poem-section {
      background: rgba(255, 255, 255, 0.02);
      border-radius: 15px;
      padding: 25px;
      margin: 25px 0;
      text-align: center;
    }

    .poem {
      font-family: 'Caveat', cursive;
      font-size: 1.6rem;
      line-height: 1.8;
      color: #ffd4e5;
      text-shadow: 0 0 15px rgba(255, 212, 229, 0.5);
    }

    .poem-line {
      margin: 8px 0;
      opacity: 0;
      animation: fadeInLine 1s ease-out forwards;
    }

    .poem-line:nth-child(1) { animation-delay: 1s; }
    .poem-line:nth-child(2) { animation-delay: 1.5s; }
    .poem-line:nth-child(3) { animation-delay: 2s; }
    .poem-line:nth-child(4) { animation-delay: 2.5s; }

    @keyframes fadeInLine {
      to {
        opacity: 1;
        transform: translateX(0);
      }
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
    }

    /* –ü–æ–∂–µ–ª–∞–Ω–∏—è */
    .wishes-section {
      margin: 30px 0;
    }

    .wish {
      display: flex;
      align-items: center;
      margin: 15px 0;
      color: #ffb8d6;
      font-size: 1.1rem;
      opacity: 0;
      animation: slideIn 0.8s ease-out forwards;
    }

    .wish:nth-child(1) { animation-delay: 3s; }
    .wish:nth-child(2) { animation-delay: 3.3s; }
    .wish:nth-child(3) { animation-delay: 3.6s; }
    .wish:nth-child(4) { animation-delay: 3.9s; }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .wish-icon {
      font-size: 1.5rem;
      margin-right: 12px;
      filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.6));
    }

    /* –ü–æ–¥–ø–∏—Å—å */
    .signature {
      text-align: center;
      font-family: 'Caveat', cursive;
      font-size: 1.8rem;
      color: #ff6ec7;
      margin-top: 35px;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.9; }
      50% { transform: scale(1.05); opacity: 1; }
    }

    .hearts {
      display: inline-block;
      font-size: 1.5rem;
      animation: heartbeat 1.5s ease-in-out infinite;
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      25% { transform: scale(1.1); }
      45% { transform: scale(0.9); }
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
      .card {
        padding: 25px 20px;
      }
      
      .title {
        font-size: 2.5rem;
      }
      
      .poem {
        font-size: 1.3rem;
      }
      
      .wish {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- –ó–≤–µ–∑–¥–Ω–æ–µ –Ω–µ–±–æ -->
  <div class="stars" id="starsContainer"></div>
  
  <!-- Canvas –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ -->
  <canvas id="effectsCanvas"></canvas>

  <!-- –ú—É–∑—ã–∫–∞ —Å –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º -->
  <audio id="backgroundMusic" autoplay loop>
    <source src="./music.mp3" type="audio/mpeg">
    <source src="./music.ogg" type="audio/ogg">
    <source src="./birthday.mp3" type="audio/mpeg">
    <source src="./happy-birthday.mp3" type="audio/mpeg">
  </audio>

  <div class="container">
    <div class="card">
      <div class="title-section">
        <h1 class="title">–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!</h1>
        <p class="subtitle">–î–æ—Ä–æ–≥–∞—è –ú–∞–º–æ—á–∫–∞</p>
      </div>
      
      <div class="photo-section">
        <div class="photo-circle">
          <div class="photo-inner" id="photoContainer">
            üíñ
          </div>
        </div>
      </div>
      
      <div class="poem-section">
        <div class="poem">
          <div class="poem-line">–ú–∞–º–∞ ‚Äî —ç—Ç–æ –ª—É—á–∏–∫ —Å–≤–µ—Ç–∞,</div>
          <div class="poem-line">–ù–µ–∂–Ω–æ—Å—Ç—å —É—Ç—Ä–µ–Ω–Ω–µ–π –∑–∞—Ä–∏,</div>
          <div class="poem-line">–¢—ã –¥–ª—è –Ω–∞—Å –¥–æ—Ä–æ–∂–µ –≤—Å–µ—Ö –Ω–∞ —Å–≤–µ—Ç–µ,</div>
          <div class="poem-line">–°—á–∞—Å—Ç—å—è –æ–∫–µ–∞–Ω —Ç–µ–±–µ –¥–∞—Ä–∏–º! ‚ú®</div>
        </div>
      </div>
      
      <div class="wishes-section">
        <div class="wish">
          <span class="wish-icon">üå∫</span>
          <span>–ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –¥–µ–Ω—å –≤—Å—Ç—Ä–µ—á–∞–µ—Ç —Ç–µ–±—è —Ü–≤–µ—Ç–∞–º–∏ –∏ —É–ª—ã–±–∫–∞–º–∏!</span>
        </div>
        <div class="wish">
          <span class="wish-icon">‚≠ê</span>
          <span>–ü—É—Å—Ç—å –∑–≤–µ–∑–¥—ã –∏—Å–ø–æ–ª–Ω—è—é—Ç –≤—Å–µ —Ç–≤–æ–∏ –∑–∞–≤–µ—Ç–Ω—ã–µ –∂–µ–ª–∞–Ω–∏—è!</span>
        </div>
        <div class="wish">
          <span class="wish-icon">üéÅ</span>
          <span>–ü—É—Å—Ç—å –∂–∏–∑–Ω—å –ø—Ä–µ–ø–æ–¥–Ω–æ—Å–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏—è—Ç–Ω—ã–µ —Å—é—Ä–ø—Ä–∏–∑—ã!</span>
        </div>
        <div class="wish">
          <span class="wish-icon">üíï</span>
          <span>–ü—É—Å—Ç—å –ª—é–±–æ–≤—å –∏ —Å—á–∞—Å—Ç—å–µ –≤—Å–µ–≥–¥–∞ –∂–∏–≤—É—Ç –≤ —Ç–≤–æ–µ–º —Å–µ—Ä–¥—Ü–µ!</span>
        </div>
      </div>
      
      <div class="signature">
        –¢–≤–æ–∏ –ª—é–±—è—â–∏–µ –¥–µ—Ç–∏ <span class="hearts">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
      </div>
    </div>
  </div>

<script>
// –°–æ–∑–¥–∞–µ–º –∑–≤–µ–∑–¥–Ω–æ–µ –Ω–µ–±–æ
(function createStars() {
  const container = document.getElementById('starsContainer');
  const starCount = 150;
  
  for (let i = 0; i < starCount; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.width = star.style.height = Math.random() * 3 + 'px';
    star.style.animationDelay = Math.random() * 3 + 's';
    star.style.animationDuration = (Math.random() * 3 + 2) + 's';
    container.appendChild(star);
  }
})();

// –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
const photoContainer = document.getElementById('photoContainer');
const img = new Image();
img.onload = function() {
  photoContainer.innerHTML = '';
  img.style.width = '100%';
  img.style.height = '100%';
  img.style.objectFit = 'cover';
  img.style.borderRadius = '50%';
  photoContainer.appendChild(img);
};
img.src = './mama.jpg';

// –ú—É–∑—ã–∫–∞
const music = document.getElementById('backgroundMusic');
music.volume = 0.3;

// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –º—É–∑—ã–∫—É
function tryPlayMusic() {
  const playPromise = music.play();
  if (playPromise !== undefined) {
    playPromise.catch(() => {
      // –ü—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑ —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É
      setTimeout(tryPlayMusic, 1000);
    });
  }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –º—É–∑—ã–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
window.addEventListener('DOMContentLoaded', () => {
  tryPlayMusic();
});

// –ò –ø—Ä–∏ –ª—é–±–æ–º –∫–ª–∏–∫–µ
document.addEventListener('click', () => {
  if (music.paused) {
    music.play();
  }
}, { once: true });

// CANVAS –≠–§–§–ï–ö–¢–´
const canvas = document.getElementById('effectsCanvas');
const ctx = canvas.getContext('2d');

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ canvas
function setCanvasSize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
setCanvasSize();
window.addEventListener('resize', setCanvasSize);

// –ú–∞—Å—Å–∏–≤—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
let fireworks = [];
let particles = [];
let hearts = [];
let flowers = [];

// –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
const MAX_PARTICLES = 200;
const MAX_HEARTS = 30;
const MAX_FLOWERS = 15;

// –ö–ª–∞—Å—Å –¥–ª—è —Å–µ—Ä–¥–µ—á–µ–∫
class Heart {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.size = Math.random() * 15 + 10;
    this.speedX = (Math.random() - 0.5) * 2;
    this.speedY = -(Math.random() * 1.5 + 0.5);
    this.opacity = 1;
    this.color = `hsl(${Math.random() * 30 + 330}, 100%, 70%)`;
  }

  update() {
    this.x += this.speedX;
    this.y += this.speedY;
    this.speedY += 0.02;
    this.opacity -= 0.008;
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = this.opacity;
    ctx.fillStyle = this.color;
    ctx.font = `${this.size}px Arial`;
    ctx.textAlign = 'center';
    ctx.fillText('‚ù§Ô∏è', this.x, this.y);
    ctx.restore();
  }
}

// –ö–ª–∞—Å—Å –¥–ª—è —Ü–≤–µ—Ç–æ–≤
class Flower {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.size = Math.random() * 20 + 15;
    this.speedX = (Math.random() - 0.5) * 1.5;
    this.speedY = -(Math.random() * 1 + 0.5);
    this.rotation = Math.random() * Math.PI * 2;
    this.rotationSpeed = (Math.random() - 0.5) * 0.1;
    this.opacity = 1;
    this.emoji = ['üå∏', 'üå∫', 'üå∑', 'üåπ', 'üåº'][Math.floor(Math.random() * 5)];
  }

  update() {
    this.x += this.speedX;
    this.y += this.speedY;
    this.speedY += 0.03;
    this.rotation += this.rotationSpeed;
    this.opacity -= 0.006;
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = this.opacity;
    ctx.translate(this.x, this.y);
    ctx.rotate(this.rotation);
    ctx.font = `${this.size}px Arial`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(this.emoji, 0, 0);
    ctx.restore();
  }
}

// –ö–ª–∞—Å—Å –¥–ª—è —á–∞—Å—Ç–∏—Ü
class Particle {
  constructor(x, y, color) {
    this.x = x;
    this.y = y;
    this.size = Math.random() * 3 + 1;
    this.speedX = (Math.random() - 0.5) * 5;
    this.speedY = (Math.random() - 0.5) * 5;
    this.color = color;
    this.opacity = 1;
    this.gravity = 0.05;
  }

  update() {
    this.x += this.speedX;
    this.y += this.speedY;
    this.speedY += this.gravity;
    this.speedX *= 0.98;
    this.opacity -= 0.015;
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = this.opacity;
    ctx.fillStyle = this.color;
    ctx.shadowBlur = 10;
    ctx.shadowColor = this.color;
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    ctx.fill();
    ctx.restore();
  }
}

// –ö–ª–∞—Å—Å –¥–ª—è —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞
class Firework {
  constructor() {
    this.x = Math.random() * canvas.width;
    this.y = canvas.height;
    this.targetX = Math.random() * canvas.width;
    this.targetY = Math.random() * canvas.height * 0.4;
    this.speed = 2;
    this.angle = Math.atan2(this.targetY - this.y, this.targetX - this.x);
    this.hue = Math.random() * 60 + 300;
    this.trail = [];
  }

  update() {
    this.trail.push({x: this.x, y: this.y});
    if (this.trail.length > 8) {
      this.trail.shift();
    }

    this.x += Math.cos(this.angle) * this.speed;
    this.y += Math.sin(this.angle) * this.speed;
    this.speed *= 1.03;

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏
    const dist = Math.hypot(this.x - this.targetX, this.y - this.targetY);
    if (dist < 10) {
      this.explode();
      return true;
    }
    return false;
  }

  explode() {
    // –°–æ–∑–¥–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã
    const colors = ['#ff6ec7', '#ffb347', '#ff69b4', '#ffd700', '#ff1493'];
    for (let i = 0; i < 30; i++) {
      if (particles.length < MAX_PARTICLES) {
        particles.push(new Particle(
          this.x,
          this.y,
          colors[Math.floor(Math.random() * colors.length)]
        ));
      }
    }

    // –°–æ–∑–¥–∞–µ–º —Å–µ—Ä–¥–µ—á–∫–∏
    for (let i = 0; i < 3; i++) {
      if (hearts.length < MAX_HEARTS) {
        hearts.push(new Heart(this.x, this.y));
      }
    }

    // –ò–Ω–æ–≥–¥–∞ —Å–æ–∑–¥–∞–µ–º —Ü–≤–µ—Ç—ã
    if (Math.random() > 0.5 && flowers.length < MAX_FLOWERS) {
      flowers.push(new Flower(this.x, this.y));
    }
  }

  draw() {
    // –†–∏—Å—É–µ–º —Å–ª–µ–¥
    ctx.strokeStyle = `hsl(${this.hue}, 100%, 60%)`;
    ctx.lineWidth = 2;
    ctx.beginPath();
    for (let i = 0; i < this.trail.length; i++) {
      ctx.globalAlpha = i / this.trail.length;
      if (i === 0) {
        ctx.moveTo(this.trail[i].x, this.trail[i].y);
      } else {
        ctx.lineTo(this.trail[i].x, this.trail[i].y);
      }
    }
    ctx.stroke();

    // –†–∏—Å—É–µ–º —Ä–∞–∫–µ—Ç—É
    ctx.globalAlpha = 1;
    ctx.fillStyle = `hsl(${this.hue}, 100%, 70%)`;
    ctx.beginPath();
    ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
    ctx.fill();
  }
}

// –ó–∞–ø—É—Å–∫ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞
function launchFirework() {
  if (fireworks.length < 3) {
    fireworks.push(new Firework());
  }
}

// –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–æ–≤
setInterval(launchFirework, 1500);

// –ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ü–∏–∫–ª
function animate() {
  // –û—á–∏—Å—Ç–∫–∞ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é –¥–ª—è —Å–ª–µ–¥–æ–≤
  ctx.fillStyle = 'rgba(10, 0, 20, 0.1)';
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  // –û–±–Ω–æ–≤–ª—è–µ–º –∏ —Ä–∏—Å—É–µ–º —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∏
  for (let i = fireworks.length - 1; i >= 0; i--) {
    fireworks[i].draw();
    if (fireworks[i].update()) {
      fireworks.splice(i, 1);
    }
  }

  // –û–±–Ω–æ–≤–ª—è–µ–º —á–∞—Å—Ç–∏—Ü—ã
  for (let i = particles.length - 1; i >= 0; i--) {
    particles[i].update();
    particles[i].draw();
    if (particles[i].opacity <= 0) {
      particles.splice(i, 1);
    }
  }

  // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–∏
  for (let i = hearts.length - 1; i >= 0; i--) {
    hearts[i].update();
    hearts[i].draw();
    if (hearts[i].opacity <= 0) {
      hearts.splice(i, 1);
    }
  }

  // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç—ã
  for (let i = flowers.length - 1; i >= 0; i--) {
    flowers[i].update();
    flowers[i].draw();
    if (flowers[i].opacity <= 0) {
      flowers.splice(i, 1);
    }
  }

  requestAnimationFrame(animate);
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
animate();

// –ü–µ—Ä–≤—ã–π –∑–∞–ª–ø
setTimeout(() => {
  for (let i = 0; i < 3; i++) {
    setTimeout(launchFirework, i * 200);
  }
}, 500);
</script>
</body>
</html>
